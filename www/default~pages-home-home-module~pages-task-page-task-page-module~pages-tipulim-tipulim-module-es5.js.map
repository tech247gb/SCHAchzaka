{"version":3,"sources":["src/app/components/header/header.component.html","src/app/components/components.module.ts","src/app/components/header/header.component.scss","src/app/components/header/header.component.ts","src/app/services/checklist/checklist.service.ts","src/app/services/global/treatments.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"colorRgb\\\">\\n<ion-toolbar class=\\\"mt-4\\\"  >\\n  <ion-buttons slot=\\\"start\\\">\\n    <ion-menu-button></ion-menu-button>\\n  </ion-buttons>\\n\\n  <div >\\n    <div class=\\\"headerToolbar\\\">\\n      אחזקה   \\n      <span class=\\\"headerName\\\">{{ user?.firstName }} {{ user?.lastName }}</span>\\n    </div>\\n  </div>\\n  <ion-buttons slot=\\\"end\\\">\\n    <ion-icon\\n      class=\\\"backBtn\\\"\\n      (click)=\\\"back()\\\"\\n      name=\\\"chevron-forward-outline\\\"\\n    ></ion-icon>\\n  </ion-buttons>\\n</ion-toolbar>\\n</div>\"","import { IonicModule } from \"@ionic/angular\";\nimport { NgModule } from \"@angular/core\";\nimport { HeaderComponent } from \"./header/header.component\";\nimport { CommonModule } from \"@angular/common\";\n\n@NgModule({\n  declarations: [HeaderComponent],\n  imports: [IonicModule, CommonModule],\n  providers: [],\n  exports: [HeaderComponent],\n  entryComponents: []\n})\nexport class ComponentsModule {}\n","export default \".backBtn {\\n  font-size: 22px;\\n  margin-left: 4px;\\n}\\n\\n.date {\\n  margin-top: 3px;\\n  text-align: center;\\n}\\n\\n.time {\\n  text-align: center;\\n  margin-top: -5px;\\n  font-size: 17px;\\n}\\n\\n.headerToolbar {\\n  text-align: right;\\n  font-size: 20px;\\n  font-weight: bold;\\n}\\n\\n.headerName {\\n  margin-right: 5px;\\n  font-size: 16px;\\n}\\n\\nion-toolbar {\\n  --background: #1f2f98;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXIvQzpcXHhhbXBwXFxodGRvY3NcXFNDSEFjaHpha2Evc3JjXFxhcHBcXGNvbXBvbmVudHNcXGhlYWRlclxcaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUVFLHFCQUFBO0VBQ0EsWUFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJhY2tCdG4ge1xuICBmb250LXNpemU6IDIycHg7XG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG59XG5cbi5kYXRlIHtcbiAgbWFyZ2luLXRvcDogM3B4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi50aW1lIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAtNXB4O1xuICBmb250LXNpemU6IDE3cHg7XG59XG5cbi5oZWFkZXJUb29sYmFyIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5oZWFkZXJOYW1lIHtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuaW9uLXRvb2xiYXIge1xuICAvLyAtLWJhY2tncm91bmQ6IHJnYig2MSwgOTEsIDEyOSk7XG4gIC0tYmFja2dyb3VuZDogIzFmMmY5ODtcbiAgY29sb3I6IHdoaXRlO1xufVxuIiwiLmJhY2tCdG4ge1xuICBmb250LXNpemU6IDIycHg7XG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG59XG5cbi5kYXRlIHtcbiAgbWFyZ2luLXRvcDogM3B4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi50aW1lIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAtNXB4O1xuICBmb250LXNpemU6IDE3cHg7XG59XG5cbi5oZWFkZXJUb29sYmFyIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5oZWFkZXJOYW1lIHtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6ICMxZjJmOTg7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\"","import { Router } from \"@angular/router\";\nimport { Component, OnInit, Input } from \"@angular/core\";\nimport { NavController } from \"@ionic/angular\";\nimport { formatDate } from \"@angular/common\";\n\n@Component({\n  selector: \"app-header\",\n  templateUrl: \"./header.component.html\",\n  styleUrls: [\"./header.component.scss\"],\n})\nexport class HeaderComponent implements OnInit {\n  // date = formatDate(new Date(), \"dd.MM.yyyy\", \"en\");\n  // time = formatDate(new Date(), \"HH:mm\", \"en\");\n  user = { firstName: \"\", lastName: \"\" };\n  constructor(public nav: NavController, public router: Router) {}\n\n  ngOnInit() {\n    if (localStorage.user) this.user = JSON.parse(localStorage.user);\n  }\n\n  back() {\n    this.router.navigate([\"/intro\"]);\n  }\n}\n","import {ChecklistCrudService} from \"./checklist.crud\";\r\nimport {Injectable} from \"@angular/core\";\r\nimport {SyncAPIService} from \"../sync.service\";\r\nimport {UtilsService} from \"../global/utils.service\";\r\n\r\n@Injectable({providedIn: \"root\"})\r\n\r\nexport class ChecklistService {\r\n    public webDb : any;\r\n\r\n    constructor(public equipmenrService : ChecklistCrudService, public syncAPIService : SyncAPIService, public utils : UtilsService,) {}\r\n\r\n    insertUrlToDb = (item) => {\r\n        let value=item.checkList\r\n        item.checklist=JSON.stringify(value)\r\n        this.webDb = this.syncAPIService.webDb;\r\n        return new Promise((resolve, reject) => {\r\n            this.webDb.transaction((t) => {\r\n                t.executeSql(\"INSERT INTO checklist (checklist,equipment,codeGroup,imageExists,responsible,treatmentDescription,treatmentLongDescription) VALUES (?,?,?,?,?,?,?)\", [\r\n                    item[\"checklist\"],\r\n                    item[\"equipment\"],\r\n                    item[\"codeGroup\"],\r\n                    item[\"imageExists\"],\r\n                    item[\"responsible\"],\r\n                    item[\"treatmentDescription\"],\r\n                    item[\"treatmentLongDescription\"],\r\n\r\n                ], (t, results) => { // console.log('jashdasd', results)\r\n\r\n                    resolve(\"success\");\r\n                }, function (t, error) {\r\n                    console.log(\"Error insert: \" + error.message);\r\n                });\r\n            });\r\n        });\r\n    };\r\n\r\n\r\n    deleteFromDb = () => {\r\n        this.webDb = this.syncAPIService.webDb;\r\n        return new Promise((resolve, reject) => {\r\n            this.webDb.transaction((t) => {\r\n                t.executeSql(\"DELETE FROM checklist \")\r\n                resolve(\"success\");\r\n            }, function (t, error) {\r\n                console.log(\"Error insert: \" + error.message);\r\n            });\r\n        });\r\n\r\n    };\r\n    deleteFromDbById = (item) => {\r\n        this.webDb = this.syncAPIService.webDb;\r\n        console.log('ghfhgf',item);\r\n        return new Promise((resolve, reject) => {\r\n            this.webDb.transaction((t) => {\r\n                t.executeSql(\"DELETE FROM checklist WHERE equipment = ?\", [\r\n                    item,\r\n                ], (t, results) => {\r\n                    console.log(results);\r\n                    resolve(\"success\");\r\n                }, function (t, error) {\r\n                    console.log(\"Error insert: \" + error.message);\r\n                });\r\n            });\r\n        });\r\n    };\r\n    getCL = (equipment) => {\r\n        console.log('equipment',equipment);\r\n        this.webDb = this.syncAPIService.webDb;\r\n        try {\r\n            return new Promise((resolve, reject) => {\r\n                this.webDb.transaction((tx) => {\r\n                   \r\n                    tx.executeSql( \"SELECT * FROM checklist WHERE equipment = ?\",\r\n                           [equipment], (tx, results) => {\r\n                        resolve(this.utils.getArrayFromJson(results.rows));\r\n                    });\r\n                });\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    getTaskAppCount= () => {\r\n        this.webDb = this.syncAPIService.webDb;\r\n        try {\r\n            return new Promise((resolve, reject) => {\r\n                this.webDb.transaction((tx) => {\r\n                    tx.executeSql(\"SELECT * FROM checklist\", [], (tx, results) => {\r\n                        resolve(this.utils.getArrayFromJson(results.rows).length);\r\n                    });\r\n                });\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    updateDbById = (id,item) => {\r\n        this.webDb = this.syncAPIService.webDb;\r\n        console.log('ghfhgf',item);\r\n        // return new Promise((resolve, reject) => {\r\n        //     this.webDb.transaction((t) => {\r\n        //         t.executeSql(\"UPDATE checklist SET equipment = ?\",\r\n        //         [id], (t, results) => {\r\n        //             console.log(results);\r\n        //             resolve(\"success\");\r\n        //         }, function (t, error) {\r\n        //             console.log(\"Error insert: \" + error.message);\r\n        //         });\r\n        //     });\r\n        // });\r\n    };\r\n}\r\n\r\n","import { Injectable } from \"@angular/core\";\nimport { LoadingController } from \"@ionic/angular\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { SettingsService } from \"./setting.service\";\nimport { ChecklistService } from \"../checklist/checklist.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TreatmentsService {\n  constructor(\n    public loadingCtrl: LoadingController,\n    private http: HttpClient,\n    public checkListService:ChecklistService,\n    public setting: SettingsService\n  ) {}\n  today = new Date();\n  getNameTreatments(treatmentsType) {\n    switch (treatmentsType) {\n      case \"X1\":\n        return \"טיפול פנימי\";\n        break;\n      case \"X2\":\n        return \"טיפול חיצוני\";\n        break;\n      case \"X3\":\n        return \"בדיקת מהנדס\";\n        break;\n    }\n  } //חדשה getCheckList, יש להעביר משתנה equipment\n  async getCL(equipment) {\n    try {\n      return new Promise((resolve, reject) => {\n        this.http\n          // .get(\"assets/jsons/tasks.json\", this.httpOptions)\n          .get(this.setting.globalURL + \"getCheckList?equipment=\" + equipment)\n          .toPromise()\n          .then((res:any) => {\n            res.equipment=equipment;\n            this.checkListService.deleteFromDbById(equipment)\n            this.checkListService.insertUrlToDb(res);\n            resolve(res);\n          })\n          .catch((err) => console.log(\"error:\", err));\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  async setTreatment(Treatment) {\n    console.log('service',Treatment);\n    let loading = await this.loadingCtrl.create({ message: \"...שולח טיפול\" });\n    loading.present();\n    try {\n      return new Promise((resolve, reject) => {\n        this.http\n          // .get(\"assets/jsons/tasks.json\", this.httpOptions)\n          .post(this.setting.globalURL + \"updateTreatment\", Treatment)\n          .toPromise()\n          .then((res) => {\n            console.log(res);\n            resolve(res);\n          })\n          .catch((err) => console.log(\"error:\", err));\n      });\n    } catch (err) {\n      console.log(err);\n    } finally {\n      loading.dismiss();\n    }\n  }\n  getData(date) {\n    // console.log(date, this.today);\n    // if (date >= this.today) {\n    //   return true;\n    // } else return false;\n  }\n  getTaskLength(){\n    return localStorage.taskLength;\n  }\n}\n"],"sourceRoot":"webpack:///","file":"default~pages-home-home-module~pages-task-page-task-page-module~pages-tipulim-tipulim-module-es5.js"}